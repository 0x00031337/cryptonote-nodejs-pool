<!-- Connection Details -->
<h3>Connection Details</h3>
<div class="stats">
    <div><i class="fa fa-cloud"></i> Mining Pool Address: <span id="miningPoolHost"></span></div>
    <div><i class="fa fa-lock"></i> Difficulty locking: <span>address.diff</span></div>
</div>

<h3>Mining Ports</h3>

<div id="miningPorts" class="table-responsive">
    <table class="table table-hover table-striped">
        <thead>
        <tr>
            <th class="col1">Port</th>
            <th class="col2">Starting Difficulty</th>
            <th class="col3">Description</th>
        </tr>
        </thead>
        <tbody id="miningPorts_rows">
        <tr>
            <td class="col1"><span class="miningPort"></span></td>
            <td class="col2"><span class="miningPortDiff"></span></td>
            <td class="col3"><span class="miningPortDesc"></span></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Wallets -->
<h3>Wallets for GRAFT blockchain</h3>
<div id="wallets" class="stats">
    <div><i class="fa fa-mobile"></i> <a target="_new" href="https://www.graft.network/mobileapps/">Mobile Wallets for Android and iOS</a></div>
    <div><i class="fa fa-windows"></i> <a target="_new" href="https://s3-sa-east-1.amazonaws.com/graftbuilds/GraftWallet+1.6.0.exe">Windows Wallet 1.6.0</a> <span>(BETA)</span></div>
    <div><i class="fa fa-apple"></i> <a target="_new" href="https://s3-sa-east-1.amazonaws.com/graftbuilds/GraftWallet+1.6.0.dmg">MAC Wallet 1.6.0</a> <span>(BETA)</span></div>
    <div><i class="fa fa-github"></i> <a target="_new" href="https://github.com/graft-project/GraftNetwork">Linux Wallet</a> <span>(Source code)</span></div>
</div>

<!-- Mining Apps -->
<h3>Mining Apps</h3>
<div id="miningApps" class="table-responsive">
    <table class="table">
        <thead>
        <tr>
            <th><i class="fa fa-book"></i> App Name</th>
            <th><i class="fa fa-car"></i> Architecture</th>
            <th><i class="fa fa-download"></i> Downloads</th>
            <th><i class="fa fa-comments"></i> Discussion</th>
            <th><i class="fa fa-file-code-o"></i> Source Code</th>
        </tr>
        </thead>
        <tbody id="miningApps_rows">
        <tr>
            <td class="miningAppTitle">XMR Stak</td>
            <td>CPU, OpenCL (AMD), CUDA (Nvidia)</td>
            <td><a target="_blank" href="https://github.com/fireice-uk/xmr-stak/releases">Releases</a></td>
            <td><a target="_blank" href="https://github.com/fireice-uk/xmr-stak/issues">Issues</a></td>
            <td><a target="_blank" href="https://github.com/fireice-uk/xmr-stak">Github</a></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example config.txt (replace the relevant lines):</span><br/>        
                <div class="config">
                "pool_address": "<span class="exampleHost"></span>:<span class="examplePort"></span>",<br/>
                "wallet_address": "<span class="exampleAddress">YOUR_WALLET_ADDRESS</span>",<br/>
                "pool_password": "x",</div>
            </td>
        </tr>
        <tr>
            <td class="miningAppTitle">CPUMiner-multi</td>
            <td>CPU</td>
            <td><a target="_blank" href="https://github.com/tpruvot/cpuminer-multi/releases">Releases</a></td>
            <td><a target="_blank" href="https://github.com/tpruvot/cpuminer-multi/issues">Issues</a></td>
            <td><a target="_blank" href="https://github.com/tpruvot/cpuminer-multi">Github</a></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example:</span>
                <code>minerd -a cryptonight -o stratum+tcp://<span class="exampleHost"></span>:<span class="examplePort"></span> -u <span class="exampleAddress">YOUR_WALLET_ADDRESS</span> -p x</code>
            </td>
        </tr>
        <tr>
            <td class="miningAppTitle">ccminer (forked by tsiv)</td>
            <td>CUDA (Nvidia)</td>
            <td><a target="_blank" href="https://github.com/tsiv/ccminer-cryptonight/releases">Releases</a></td>
            <td><a target="_blank" href="https://bitcointalk.org/index.php?topic=656841.msg7487737#msg7487737">BitcoinTalk</a></td>
            <td><a target="_blank" href="https://github.com/tsiv/ccminer-cryptonight">Github</a></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example:</span>
                <code>ccminer -o stratum+tcp://<span class="exampleHost"></span>:<span class="examplePort"></span> -u <span class="exampleAddress">YOUR_WALLET_ADDRESS</span> -p x</code>
            </td>
        </tr>
        <tr>
            <td class="miningAppTitle">YAM Miner (by yvg1900)</td>
            <td>CPU</td>
            <td><a target="_blank" href="https://mega.co.nz/#F!UlkU0RyR!E8n4CFkqVu0WoOnsJnQkSg">MEGA</a></td>
            <td><a target="_blank" href="https://twitter.com/yvg1900">Twitter</a></td>
            <td>Proprietary <i class="fa fa-frown-o"></i></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example:</span>
                <code>yam -c x -M stratum+tcp://<span class="exampleAddress">YOUR_WALLET_ADDRESS</span>:x@<span class="exampleHost"></span>:<span class="examplePort"></span>/xmr</code>
            </td>
        </tr>
        <tr>
            <td class="miningAppTitle">Claymore CPU Miner</td>
            <td>CPU</td>
            <td><a target="_blank" href="https://bitcointalk.org/index.php?topic=647251.0">BitcoinTalk</a></td>
            <td><a target="_blank" href="https://bitcointalk.org/index.php?topic=647251.0">BitcoinTalk</a></td>
            <td>Proprietary <i class="fa fa-frown-o"></i></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example:</span>
                <code>NsCpuCNMiner64 -o stratum+tcp://<span class="exampleHost"></span>:<span class="examplePort"></span> -u <span class="exampleAddress">YOUR_WALLET_ADDRESS</span> -p x</code>
            </td>
        </tr>
        <tr>
            <td class="miningAppTitle">Claymore GPU Miner</td>
            <td>OpenCL (AMD)</td>
            <td><a target="_blank" href="https://bitcointalk.org/index.php?topic=638915.0">BitcoinTalk</a></td>
            <td><a target="_blank" href="https://bitcointalk.org/index.php?topic=638915.0">BitcoinTalk</a></td>
            <td>Proprietary <i class="fa fa-frown-o"></i></td>
        </tr>
        <tr>
            <td colspan="5">
                <span>Example:</span>
                <code>NsGpuCNMiner -o stratum+tcp://<span class="exampleHost"></span>:<span class="examplePort"></span> -u <span class="exampleAddress">YOUR_WALLET_ADDRESS</span> -p x</code>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Javascript -->
<script>
currentPage = {
    destroy: function(){
    },
    update: function(){
        var portsJson = JSON.stringify(lastStats.config.ports);
        if (lastPortsJson !== portsJson) {
            lastPortsJson = portsJson;
            var $miningPortChildren = [];
            for (var i = 0; i < lastStats.config.ports.length; i++) {
                var portData = lastStats.config.ports[i];
                var $portChild = $(miningPortTemplate);
                $portChild.find('.miningPort').text(portData.port);
                $portChild.find('.miningPortDiff').text(formatDifficulty(portData.difficulty));
                $portChild.find('.miningPortDesc').text(portData.desc);
                $miningPortChildren.push($portChild);
            }
            $miningPorts.empty().append($miningPortChildren);
        }

        updateTextClasses('exampleHost', poolHost);
        updateTextClasses('examplePort', lastStats.config.ports[0].port.toString());
    }
};

document.getElementById('miningPoolHost').textContent = poolHost;

var lastPortsJson = '';
var $miningPorts = $('#miningPorts_rows');
var miningPortTemplate = $miningPorts.html();
$miningPorts.empty();

function formatDifficulty(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
}
</script>